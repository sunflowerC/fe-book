# git 基础操作

## 基础 
### 基本概念
1. 工作空间（代码目录） - 在文件夹中所看到的文件所在的目录就是工作空间。
2. 本地仓库 - 在本地记录代码修改过程、分支等信息的数据库，不受网络情况影响。
3. 远程仓库 - 在服务端记录代码修改过程，分析等信息的数据库，需要联网才能访问，克隆远程代码仓库。

### 分支开发的意义
1. 生产环境、测试环境和开发环境应该对应不同的分支，通过分支隔离不同环境，保证产品迭代发布的稳定性。
2. 开发大量地新功能时，每个功能创建不同的功能分支，比如 分支 Page2、Page3，多人可以同时并行开发，可以提升开发效率。

## 常用的 git 命令

### 从远程服务器克隆代码到本地
```
$ git clone git@gitee.com:wxnet2013/test.git
```

### 在本地仓库中创建分支

初始化的新项目只有 master 分支，一般会对应生产环境的代码，可以通过 branch 命令创建开发分支 dev，然后再通过 checkout 来切换到 dev 分支。

```
$ git branch dev
$ git checkout dev

```
另外还可以通过下面的命令直接创建并切换分支，以测试分支 test 为例。

```
$ git checkout -b test
```

在团队中，不同的工程师会创建不同的功能分支，比如 Page2、Page3。


### 向本地仓库提交代码
完成功能开发时，需要先将代码提交到本地仓库的分支，通过下面的两个命令操作：

```
$ git add .
$ git commit -m '代码修改说明内容'
```

### 合并分支
假设在上面已经将代码提交到了本地开发 dev 分支，我们需要将开发的代码提交给测试人员进行测试，可以通过 merge 命令，将 dev 新增的代码合并到集成测试环境 test。

合并之前，需要通过 checkout 命令切换到 test 分支。

```
$ git checkout test
$ git merge dev
```

### 向远程服务推送代码

代码在本地测试通过后，需要将推送 push 到远程仓库，这样其他工程师就能在远程仓库获取最新的代码了。

通过下面的命令推送代码。

```
$ git push origin test
```

### 从远程仓库拉取代码

假设其他工程师已经提交代码并推送到远程服务器，可以通过 pull 命令，更新自己的本地仓库，同步其他工程师的代码。

下面的命令，先切换到 test 分支，然后再拉取远程仓库中 test 分支的代码。

```
$ git checkout test
$ git pull origin test
```

## 分支合并的顺序

一般按照功能分支合并到dev分支（代码集成），开发人员在 dev 验证通过后，再合并到 test分支（集成测试），测试完成后，将 test 分支 合并到生产分支 master。

所以顺序是：功能分支 --merge--> dev --merge--> test --merge--> master

